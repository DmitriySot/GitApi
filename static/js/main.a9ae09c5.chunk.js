(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(n,e,t){n.exports=t(66)},64:function(n,e,t){},65:function(n,e,t){},66:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(12),u=t.n(c),o=t(7),l=t(8),i=t(32),s=t(10),f=t(17),p=t.n(f),d=t(33),m=t(14),v=t.n(m),b="SET_LOCATION",g="https://api.github.com/";var E=function(n,e){var t=e.data;return n.data.stars=t.reduce(function(n,e){return n+e.stargazers_count},0),n.data},O={location:"biysk",users:null,loading:!1,error:null},x=Object(l.c)({users:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case b:return Object(s.a)({},n,{location:r.location});case"START_LOADING":return Object(s.a)({},n,{loading:!0});case"END_LOADING":return Object(s.a)({},n,{loading:!1});case"FETCH_USERS":return Object(s.a)({},n,{users:r.users,error:null});case"ERROR":return Object(s.a)({},n,{error:r.error});default:return n}return n}}),j=Object(l.d)(x,{},Object(l.a)(i.a)),y=t(13),h=t(2),w=t(9),N=(t(64),function(){return a.a.createElement(w.c,{className:"loader",size:"5em",color:"#ccc"})}),R=t(1);function A(){var n=Object(h.a)(["\n  margin-left: 15px;\n"]);return A=function(){return n},n}function S(){var n=Object(h.a)(["\n  margin: 0 5px;\n"]);return S=function(){return n},n}function T(){var n=Object(h.a)(["\n  display: flex;\n  margin-left: 10px;\n  margin-top: 5px;\n  font: 0.7em sans-serif;\n  opacity: 0.5;\n"]);return T=function(){return n},n}function _(){var n=Object(h.a)(["\n  text-align: left;\n  margin-left: 10px;\n  font: 0.8em sans-serif;\n"]);return _=function(){return n},n}function k(){var n=Object(h.a)(["\n  margin-right: 10px;\n"]);return k=function(){return n},n}function L(){var n=Object(h.a)(["\n  width: 50px;\n  border-radius: 5px;\n"]);return L=function(){return n},n}function D(){var n=Object(h.a)(["\n  display: flex;\n  margin-left: 10px;\n  margin-bottom: 5px;\n"]);return D=function(){return n},n}function I(){var n=Object(h.a)(["\n  display: flex;\n  margin: 10px 10px 20px 10px;\n  justify-content: flex-start;\n"]);return I=function(){return n},n}var C=R.a.div(I()),U=R.a.div(D()),z=R.a.img(L()),G=R.a.a(k()),F=R.a.div(_()),B=R.a.div(T()),H=R.a.div(S()),J=R.a.div(A()),P=function(n){var e=n.user;Object(y.a)(n,["user"]);return a.a.createElement(C,null,a.a.createElement("div",null,a.a.createElement(z,{src:e.avatar_url})),a.a.createElement("div",null,a.a.createElement(U,null,a.a.createElement(G,{href:"https://github.com/".concat(e.login)},e.login),a.a.createElement("div",null,e.name," ")),a.a.createElement(F,null,e.bio),a.a.createElement(B,null,a.a.createElement(w.b,null),a.a.createElement(H,null,e.location),e.email&&a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,null),a.a.createElement("div",null," ",e.email," ")),e.stars&&a.a.createElement(J,null,a.a.createElement(w.d,null)," ",e.stars))))};function q(){var n=Object(h.a)(["\n  opacity: 0.7;\n  color: brown;\n  padding-top: 20px;\n"]);return q=function(){return n},n}function K(){var n=Object(h.a)(["\n  opacity: 0.7;\n  color: tomato;\n  padding-top: 20px;\n"]);return K=function(){return n},n}function M(){var n=Object(h.a)(["\n  list-style: none;\n  padding-left: 0;\n"]);return M=function(){return n},n}var Q=R.a.ul(M()),V=R.a.h2(K()),W=R.a.h2(q());var X=Object(o.b)(function(n){var e=n.users;return{users:e.users,loading:e.loading,location:e.location,error:e.error}},{fetchUsers:function(n){return function(){var e=Object(d.a)(p.a.mark(function e(t){var r,a,c,u,o,l,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),r="".concat(g,"search/users?q=location%3A").concat(n,"&sort=stars"),e.prev=2,e.next=5,v()(r);case 5:return a=e.sent,c=a.data.items.slice(0,10).map(function(n){return v()("".concat(g,"users/").concat(n.login))}),e.next=9,Promise.all(c);case 9:return u=e.sent,o=u.map(function(n){return v()("".concat(g,"users/").concat(n.data.login,"/repos"))}),e.next=13,Promise.all(o);case 13:l=e.sent,i=u.map(function(n,e){return E(n,l[e])}),t({type:"FETCH_USERS",payload:{users:i}}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),t({type:"ERROR",payload:{error:e.t0}});case 21:t({type:"END_LOADING"});case 22:case"end":return e.stop()}},e,null,[[2,18]])}));return function(n){return e.apply(this,arguments)}}()}})(function(n){var e=n.users,t=n.loading,c=n.error,u=n.location,o=void 0===u?"russia":u,l=Object(y.a)(n,["users","loading","error","location"]);return Object(r.useEffect)(function(){l.fetchUsers(o)},[o]),t?a.a.createElement(N,null):c?a.a.createElement(V,null,c.message," "):e?e.length?a.a.createElement(Q,null,e.map(function(n){return a.a.createElement(P,{user:n,key:n.id})})):a.a.createElement(W,null," Users not found"):null}),Y=t(36);function Z(){var n=Object(h.a)(["\n  padding: 10px;\n  font-size: 1rem;\n  color: gray;\n  border-radius: 0 5px 5px 0;\n  border-left: none;\n"]);return Z=function(){return n},n}function $(){var n=Object(h.a)(["\n  padding: 10px;\n  font-size: 1rem;\n  color: gray;\n  border-radius: 5px 0 0 5px;\n  border: 1px solid #999;\n"]);return $=function(){return n},n}var nn=R.a.input($()),en=R.a.button(Z());var tn=Object(o.b)(null,{setNewLocation:function(n){return{type:b,payload:{location:n}}}})(function(n){var e=Object(r.useState)("Biysk"),t=Object(Y.a)(e,2),c=t[0],u=t[1];return a.a.createElement("div",null,a.a.createElement(nn,{placeholder:"Type location...",value:c,onChange:function(n){return u(n.target.value)}}),a.a.createElement(en,{onClick:function(){c&&n.setNewLocation(c)}},"Search"))});t(65);var rn=document.getElementById("root");u.a.render(a.a.createElement(function(){return a.a.createElement(o.a,{store:j},a.a.createElement("div",{className:"App"},a.a.createElement(tn,null),a.a.createElement(X,null)))},null),rn)}},[[38,1,2]]]);
//# sourceMappingURL=main.a9ae09c5.chunk.js.map