{"version":3,"sources":["ducks/users.js","store/index.js","components/Loader/index.js","components/UserItem/index.js","components/UserList/index.js","components/LocationForm/index.js","index.js"],"names":["SET_LOCATION","baseUrl","prepareUser","user","_ref","repos","data","stars","reduce","acc","repo","stargazers_count","defaultState","location","users","loading","error","reducers","combineReducers","state","arguments","length","undefined","_ref3","type","payload","Object","objectSpread","createStore","applyMiddleware","thunk","Loader","react_default","a","createElement","index_esm","className","size","color","ListItem","styled","div","_templateObject","Login","_templateObject2","Avatar","img","_templateObject3","Link","_templateObject4","About","_templateObject5","Location","_templateObject6","Icon","_templateObject7","Stars","_templateObject8","UserItem","objectWithoutProperties","src","avatar_url","href","concat","login","name","bio","email","Fragment","List","ul","UserList_templateObject","Error","h2","UserList_templateObject2","NotFound","UserList_templateObject3","connect","_ref2","fetchUsers","asyncToGenerator","regenerator_default","mark","_callee","dispatch","apiUrl","usersData","promises","repoPromises","usersWithStars","wrap","_context","prev","next","axios","sent","items","slice","map","item","Promise","all","i","t0","stop","_x","apply","this","_ref$location","props","useEffect","message","components_UserItem","key","id","Input","input","LocationForm_templateObject","Button","button","LocationForm_templateObject2","setNewLocation","_useState","useState","_useState2","slicedToArray","setLocation","placeholder","value","onChange","e","target","onClick","rootElement","document","getElementById","ReactDOM","render","es","store","components_LocationForm","components_UserList"],"mappings":"2RAGaA,EAAe,eAKtBC,EAAO,0BAWb,IAAMC,EAAc,SAACC,EAADC,GAA2B,IAAZC,EAAYD,EAAlBE,KAK3B,OAJAH,EAAKG,KAAKC,MAAQF,EAAMG,OAAO,SAACC,EAAKC,GACnC,OAAQD,EAAOC,EAAKC,kBACnB,GAEIR,EAAKG,MA4CRM,EAAe,CACnBC,SAAU,QACVC,MAAO,KACPC,SAAS,EACTC,MAAO,MCpEHC,EAAWC,YAAgB,CAAEJ,MDuEpB,WAA6C,IAA5CK,EAA4CC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApCR,EAAoCW,EAAAH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAApBE,EAAoBD,EAApBC,KAAMC,EAAcF,EAAdE,QAC5C,OAAQD,GACN,KAAKxB,EACH,OAAO0B,OAAAC,EAAA,EAAAD,CAAA,GAAKP,EAAZ,CAAmBN,SAAUY,EAAQZ,WACvC,IA3EyB,gBA4EvB,OAAOa,OAAAC,EAAA,EAAAD,CAAA,GAAKP,EAAZ,CAAmBJ,SAAS,IAC9B,IA5EuB,cA6ErB,OAAOW,OAAAC,EAAA,EAAAD,CAAA,GAAKP,EAAZ,CAAmBJ,SAAS,IAC9B,IAjFuB,cAkFrB,OAAOW,OAAAC,EAAA,EAAAD,CAAA,GAAKP,EAAZ,CAAmBL,MAAOW,EAAQX,MAAOE,MAAO,OAClD,IA/EiB,QAgFf,OAAOU,OAAAC,EAAA,EAAAD,CAAA,GAAKP,EAAZ,CAAmBH,MAAOS,EAAQT,QACpC,QACE,OAAOG,EAGX,OAAOA,KCrFMS,cAAYX,EAAU,GAAIY,YAAgBC,4BCE1CC,SAAA,WACb,OACIC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAWC,UAAU,SAASC,KAAK,MAAMC,MAAM,++BCNrD,IAAMC,EAAWC,IAAOC,IAAVC,KAKRC,EAAQH,IAAOC,IAAVG,KAKLC,EAASL,IAAOM,IAAVC,KAINC,EAAOR,IAAOP,EAAVgB,KAGJC,EAAQV,IAAOC,IAAVU,KAKLC,EAAWZ,IAAOC,IAAVY,KAORC,EAAOd,IAAOC,IAAVc,KAIJC,EAAQhB,IAAOC,IAAVgB,KAmCIC,EA/BE,SAAAtD,GAAA,IAAGD,EAAHC,EAAGD,KAAHuB,OAAAiC,EAAA,EAAAjC,CAAAtB,EAAA,iBACf4B,EAAAC,EAAAC,cAACK,EAAD,KACEP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACW,EAAD,CAAQe,IAAKzD,EAAK0D,cAGpB7B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACS,EAAD,KACEX,EAAAC,EAAAC,cAACc,EAAD,CAAMc,KAAI,sBAAAC,OAAwB5D,EAAK6D,QAAU7D,EAAK6D,OACtDhC,EAAAC,EAAAC,cAAA,WAAM/B,EAAK8D,KAAX,MAEFjC,EAAAC,EAAAC,cAACgB,EAAD,KAAQ/C,EAAK+D,KACblC,EAAAC,EAAAC,cAACkB,EAAD,KACEpB,EAAAC,EAAAC,cAACC,EAAA,EAAD,MACAH,EAAAC,EAAAC,cAACoB,EAAD,KAAOnD,EAAKU,UACXV,EAAKgE,OACJnC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmC,SAAA,KACEpC,EAAAC,EAAAC,cAACC,EAAA,EAAD,MACAH,EAAAC,EAAAC,cAAA,eAAO/B,EAAKgE,MAAZ,MAGHhE,EAAKI,OACJyB,EAAAC,EAAAC,cAACsB,EAAD,KACExB,EAAAC,EAAAC,cAACC,EAAA,EAAD,MADF,IACchC,EAAKI,0XCzD7B,IAAM8D,EAAO7B,IAAO8B,GAAVC,KAKJC,EAAQhC,IAAOiC,GAAVC,KAMLC,EAAWnC,IAAOiC,GAAVG,KA+BCC,kBACb,SAAAC,GAAe,IAAZhE,EAAYgE,EAAZhE,MACD,MAAO,CACLA,MAAOA,EAAMA,MACbC,QAASD,EAAMC,QACfF,SAAUC,EAAMD,SAChBG,MAAOF,EAAME,QAGjB,CAAE+D,WJ/BsB,SAAAlE,GAAQ,sBAAAiE,EAAApD,OAAAsD,EAAA,EAAAtD,CAAAuD,EAAAhD,EAAAiD,KAAI,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAAC,EAAAzE,EAAA0E,EAAAnF,EAAAoF,EAAA,OAAAR,EAAAhD,EAAAyD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACpCT,EAAS,CACP5D,KAzByB,kBA4BrB6D,EAL8B,GAAAtB,OAKlB9D,EALkB,8BAAA8D,OAKkBlD,EALlB,eAAA8E,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAQVC,IAAMT,GARI,cAQ5BC,EAR4BK,EAAAI,KAU5BR,EAAWD,EAAUhF,KAAK0F,MAC7BC,MAAM,EAAG,IACTC,IAAI,SAAAC,GAAI,OAAIL,IAAK,GAAA/B,OAAI9D,EAAJ,UAAA8D,OAAoBoC,EAAKnC,UAZX2B,EAAAE,KAAA,EAadO,QAAQC,IAAId,GAbE,cAa5BzE,EAb4B6E,EAAAI,KAe5BP,EAAe1E,EAAMoF,IAAI,SAAA/F,GAAI,OACjC2F,IAAK,GAAA/B,OAAI9D,EAAJ,UAAA8D,OAAoB5D,EAAKG,KAAK0D,MAA9B,aAhB2B2B,EAAAE,KAAA,GAkBdO,QAAQC,IAAIb,GAlBE,QAkB5BnF,EAlB4BsF,EAAAI,KAmB5BN,EAAiB3E,EAAMoF,IAAI,SAAC/F,EAAMmG,GAAP,OAAapG,EAAYC,EAAME,EAAMiG,MAEtElB,EAAS,CACP5D,KA/CqB,cAgDrBC,QAAS,CACPX,MAAO2E,KAxBuBE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA4BlCP,EAAS,CACP5D,KAlDe,QAmDfC,QAAS,CACPT,MAAK2E,EAAAY,MA/ByB,QAoCpCnB,EAAS,CACP5D,KA3DuB,gBAsBW,yBAAAmE,EAAAa,SAAArB,EAAA,kBAAJ,gBAAAsB,GAAA,OAAA3B,EAAA4B,MAAAC,KAAAvF,YAAA,KIsBnByD,CAzBf,SAAAzE,GAMG,IALDU,EAKCV,EALDU,MACAC,EAICX,EAJDW,QACAC,EAGCZ,EAHDY,MAGC4F,EAAAxG,EAFDS,gBAEC,IAAA+F,EAFU,SAEVA,EADEC,EACFnF,OAAAiC,EAAA,EAAAjC,CAAAtB,EAAA,wCAKD,OAJA0G,oBAAU,WACRD,EAAM9B,WAAWlE,IAChB,CAACA,IAEAE,EAAgBiB,EAAAC,EAAAC,cAACH,EAAD,MAChBf,EAAegB,EAAAC,EAAAC,cAACsC,EAAD,KAAQxD,EAAM+F,QAAd,KAChBjG,EACAA,EAAMO,OAGPW,EAAAC,EAAAC,cAACmC,EAAD,KACGvD,EAAMoF,IAAI,SAAA/F,GAAI,OACb6B,EAAAC,EAAAC,cAAC8E,EAAD,CAAU7G,KAAMA,EAAM8G,IAAK9G,EAAK+G,QALdlF,EAAAC,EAAAC,cAACyC,EAAD,yBADP,wXChCnB,IAAMwC,GAAQ3E,IAAO4E,MAAVC,KAQLC,GAAS9E,IAAO+E,OAAVC,KA8BG3C,mBACb,KACA,CAAE4C,eLnCG,SAAqB5G,GAC1B,MAAO,CACLW,KAAMxB,EACNyB,QAAS,CACPZ,eK6BSgE,CAtBf,SAAsBgC,GAAO,IAAAa,EACKC,mBAAS,SADdC,EAAAlG,OAAAmG,EAAA,EAAAnG,CAAAgG,EAAA,GACpB7G,EADoB+G,EAAA,GACVE,EADUF,EAAA,GAU3B,OACE5F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACiF,GAAD,CACEY,YAAY,mBACZC,MAAOnH,EACPoH,SAZuB,SAAAC,GAAC,OAAIJ,EAAYI,EAAEC,OAAOH,UAcnDhG,EAAAC,EAAAC,cAACoF,GAAD,CAAQc,QAbc,WACnBvH,GAELgG,EAAMY,eAAe5G,KAUnB,mBCnBN,IAAMwH,GAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOzG,EAAAC,EAAAC,cAZhB,WACE,OACEF,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAUC,MAAOA,GACf3G,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACbJ,EAAAC,EAAAC,cAAC0G,GAAD,MACA5G,EAAAC,EAAAC,cAAC2G,EAAD,SAOQ,MAASR","file":"static/js/main.a9ae09c5.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport const FETCH_USERS = 'FETCH_USERS'\nexport const SET_LOCATION = 'SET_LOCATION'\nexport const START_LOADING = 'START_LOADING'\nexport const END_LOADING = 'END_LOADING'\nexport const ERROR = 'ERROR'\n\nconst baseUrl = `https://api.github.com/`\n\nexport function setLocation(location) {\n  return {\n    type: SET_LOCATION,\n    payload: {\n      location\n    }\n  }\n}\n\nconst prepareUser = (user, { data: repos }) => {\n  user.data.stars = repos.reduce((acc, repo) => {\n    return (acc += repo.stargazers_count)\n  }, 0)\n\n  return user.data\n}\n\nexport const fetchUsers = location => async dispatch => {\n  dispatch({\n    type: START_LOADING\n  })\n\n  const apiUrl = `${baseUrl}search/users?q=location%3A${location}&sort=stars`\n\n  try {\n    const usersData = await axios(apiUrl)\n\n    const promises = usersData.data.items\n      .slice(0, 10)\n      .map(item => axios(`${baseUrl}users/${item.login}`))\n    const users = await Promise.all(promises)\n\n    const repoPromises = users.map(user =>\n      axios(`${baseUrl}users/${user.data.login}/repos`)\n    )\n    const repos = await Promise.all(repoPromises)\n    const usersWithStars = users.map((user, i) => prepareUser(user, repos[i]))\n\n    dispatch({\n      type: FETCH_USERS,\n      payload: {\n        users: usersWithStars\n      }\n    })\n  } catch (e) {\n    dispatch({\n      type: ERROR,\n      payload: {\n        error: e\n      }\n    })\n  }\n\n  dispatch({\n    type: END_LOADING\n  })\n}\n\nconst defaultState = {\n  location: 'biysk',\n  users: null,\n  loading: false,\n  error: null\n}\n\nexport default (state = defaultState, { type, payload }) => {\n  switch (type) {\n    case SET_LOCATION:\n      return { ...state, location: payload.location }\n    case START_LOADING:\n      return { ...state, loading: true }\n    case END_LOADING:\n      return { ...state, loading: false }\n    case FETCH_USERS:\n      return { ...state, users: payload.users, error: null }\n    case ERROR:\n      return { ...state, error: payload.error }\n    default:\n      return state\n  }\n\n  return state\n}\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport users from '../ducks/users'\n\nconst reducers = combineReducers({ users })\n\nexport default createStore(reducers, {}, applyMiddleware(thunk))\n","import React from 'react'\nimport styled, { keyframes } from 'styled-components'\nimport { FaSpinner } from 'react-icons/fa'\nimport './loader.css'\n\n\n\n\nexport default () => {\n  return (\n      <FaSpinner className=\"loader\" size=\"5em\" color=\"#ccc\" />\n\n  )\n}\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { FaMapMarkerAlt, FaEnvelope, FaStar } from 'react-icons/fa'\r\n\r\nconst ListItem = styled.div`\r\n  display: flex;\r\n  margin: 10px 10px 20px 10px;\r\n  justify-content: flex-start;\r\n`\r\nconst Login = styled.div`\r\n  display: flex;\r\n  margin-left: 10px;\r\n  margin-bottom: 5px;\r\n`\r\nconst Avatar = styled.img`\r\n  width: 50px;\r\n  border-radius: 5px;\r\n`\r\nconst Link = styled.a`\r\n  margin-right: 10px;\r\n`\r\nconst About = styled.div`\r\n  text-align: left;\r\n  margin-left: 10px;\r\n  font: 0.8em sans-serif;\r\n`\r\nconst Location = styled.div`\r\n  display: flex;\r\n  margin-left: 10px;\r\n  margin-top: 5px;\r\n  font: 0.7em sans-serif;\r\n  opacity: 0.5;\r\n`\r\nconst Icon = styled.div`\r\n  margin: 0 5px;\r\n`\r\n\r\nconst Stars = styled.div`\r\n  margin-left: 15px;\r\n`\r\n\r\nconst UserItem = ({ user, ...props }) => (\r\n  <ListItem>\r\n    <div>\r\n      <Avatar src={user.avatar_url} />\r\n    </div>\r\n\r\n    <div>\r\n      <Login>\r\n        <Link href={`https://github.com/${user.login}`}>{user.login}</Link>\r\n        <div>{user.name} </div>\r\n      </Login>\r\n      <About>{user.bio}</About>\r\n      <Location>\r\n        <FaMapMarkerAlt />\r\n        <Icon>{user.location}</Icon>\r\n        {user.email && (\r\n          <>\r\n            <FaEnvelope />\r\n            <div> {user.email} </div>\r\n          </>\r\n        )}\r\n        {user.stars && (\r\n          <Stars>\r\n            <FaStar /> {user.stars}\r\n          </Stars>\r\n        )}\r\n      </Location>\r\n    </div>\r\n  </ListItem>\r\n)\r\n\r\nexport default UserItem\r\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { fetchUsers } from '../../ducks/users'\nimport Loader from '../Loader'\nimport UserItem from '../UserItem'\nimport styled from 'styled-components'\n\nconst List = styled.ul`\n  list-style: none;\n  padding-left: 0;\n`\n\nconst Error = styled.h2`\n  opacity: 0.7;\n  color: tomato;\n  padding-top: 20px;\n`\n\nconst NotFound = styled.h2`\n  opacity: 0.7;\n  color: brown;\n  padding-top: 20px;\n`\n\nfunction UserList({\n  users,\n  loading,\n  error,\n  location = 'russia',\n  ...props\n}) {\n  useEffect(() => {\n    props.fetchUsers(location)\n  }, [location])\n\n  if (loading) return <Loader />\n  if (error)  return <Error>{error.message} </Error>\n\tif(!users) return null\n\tif(!users.length) return <NotFound> Users not found</NotFound>\n\n  return (\n    <List>\n      {users.map(user => (\n        <UserItem user={user} key={user.id} />\n      ))}\n    </List>\n  )\n}\n\nexport default connect(\n  ({ users }) => {\n    return {\n      users: users.users,\n      loading: users.loading,\n      location: users.location,\n      error: users.error\n    }\n  },\n  { fetchUsers }\n)(UserList)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { setLocation as setNewLocation } from '../../ducks/users'\nimport styled from 'styled-components'\n\nconst Input = styled.input`\n  padding: 10px;\n  font-size: 1rem;\n  color: gray;\n  border-radius: 5px 0 0 5px;\n  border: 1px solid #999;\n`\n\nconst Button = styled.button`\n  padding: 10px;\n  font-size: 1rem;\n  color: gray;\n  border-radius: 0 5px 5px 0;\n  border-left: none;\n`\n\nfunction LocationForm(props) {\n  const [location, setLocation] = useState('Biysk')\n\n  const handleLocationChange = e => setLocation(e.target.value)\n  const handleLocationSet = () => {\n    if (!location) return\n\n    props.setNewLocation(location)\n  }\n\n  return (\n    <div>\n      <Input\n        placeholder=\"Type location...\"\n        value={location}\n        onChange={handleLocationChange}\n      />\n      <Button onClick={handleLocationSet}>Search</Button>\n    </div>\n  )\n}\n\nexport default connect(\n  null,\n  { setNewLocation }\n)(LocationForm)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport UserList from './components/UserList'\nimport LocationForm from './components/LocationForm'\nimport './styles.css'\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <LocationForm />\n        <UserList />\n      </div>\n    </Provider>\n  )\n}\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(<App />, rootElement)\n"],"sourceRoot":""}